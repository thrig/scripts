.Dd February 21 2020
.Dt PAMEI 1
.nh
.Os
.Sh NAME
.Nm pamei
.Nd lockfile command wrapper
.Sh SYNOPSIS
.Bk -words
.Nm
.Ar label
.Ar command
.Op Ar ..
.Ek
.Sh DESCRIPTION
.Nm
uses a simple lockfile associated with a unique user-supplied
.Ar label
to prevent more than one instance of something from running. The locks
are advisory and the 
.Ar command
could simply be run directly.
.Sh ENVIRONMENT
.Dv PAMEI_DIR
defines the cache directory used. This should be private to the
user or group(s) using it. The default directory is
.Pa ~/var/cache/pamei
if another is not supplied. This directory will not be created by
.Nm .
.Sh EXIT STATUS
.Ex -std
The exit code of
.Dv 2
indicates a lock failure, and there is a unique message for this condition.
.Sh EXAMPLES
What this command was written for, as otherwise two (or more) can be
started and the last one to exit will create the resulting savefile.
.Pp
.Dl $ Ic pamei zangband zangband ...
.Sh SEE ALSO
.Xr blocksig 1 ,
.Xr setsid 1 ,
.Xr solitary 1
.Sh AUTHOR
.An Jeremy Mates
